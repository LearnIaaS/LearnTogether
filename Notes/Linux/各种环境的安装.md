# 各种环境

## 安装

## 更新 yum
```
yum list updates
yum list installed
yum -y update
```

## 安装 tree
```
yum -y install tree
```

## 安装 C++ 编译器
```
yum -y install gcc
yum -y install gcc-c++
```

## 安装 pip

```shell
yum install epel-release
yum install python-pip

pip install --upgrade pip
```

## CMake2

```shell
yum install -y gcc gcc-c++ make automake 
wget http://www.cmake.org/files/v2.8/cmake-2.8.10.2.tar.gz
tar -zxvf cmake-2.8.10.2.tar.gz
cd cmake-2.8.10.2
./bootstrap
make
amke install
```

## CMake3
```
yum install epel-release
yum install -y cmake3
```

## 当你需要将 cmake 链接到 cmake3 时

```
 ln -s /usr/bin/cmake3 /usr/bin/cmake
```

## 安装 gflags
```
yum install -y python-pip
pip install --upgrade pip
pip install python-gflags
```
验证是否安装成功：
```
[root@artist rocksdb-5.17.2]# python
Python 2.7.5 (default, Jun 20 2019, 20:27:34) 
[GCC 4.8.5 20150623 (Red Hat 4.8.5-36)] on linux2
Type "help", "copyright", "credits" or "license" for more information.
>>> import gflags
>>> exit()
```
不报错说明安装成功。


## 安装 RocksDB
**注意！** 在CentOS上需要修改util/gflags_compat.h里面的namespace为gflags
```
https://github.com/facebook/rocksdb/releases/tag/v5.17.2
cmake -DPORTABLE=on -DBUILD_SHARED_LIBS=on <path>
make install
```

## 添加动态链接库
把/usr/local/lib添加到动态链接库里面：
```
export LD_LIBRARY_PATH=/usr/local/lib
```

为了让这个设置永久生效，可以在~/.bash_profile文件中添加设置指令：

```
export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/lib
```